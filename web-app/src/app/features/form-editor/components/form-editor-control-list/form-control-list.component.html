<ng-container *ngFor="let item of formItems; let i = index">
  <div class="grid">
    <div class="col">
      <p-card styleClass="mt-2">
        <ng-template pTemplate="header">
          <p-toolbar>
            <div class="p-toolbar-group-left">
              <button pButton [disabled]="i === 0" pRipple icon="pi pi-angle-up" pTooltip="Move item up"
                tooltipPosition="top" (click)="moveItemUp(i)" class="p-button-primary mr-2"></button>
              <button pButton [disabled]="i === formItems.length - 1" pRipple icon="pi pi-angle-down"
                pTooltip="Move item down" tooltipPosition="top" (click)="moveItemDown(i)"
                class="p-button-primary mr-2"></button>
            </div>
            <div class="p-toolbar-group right">
              <button pButton pRipple icon="pi pi-trash" pTooltip="Remove item" tooltipPosition="top"
                (click)="removeItem(item.id)" class="p-button-danger"></button>
            </div>
          </p-toolbar>
        </ng-template>
        <ng-template pTemplate="content">
          <app-formControlEditor [formItem]="item"></app-formControlEditor>
        </ng-template>
      </p-card>
    </div>
  </div>
</ng-container>

<div class="flex justify-content-center" *ngIf="loading || !formItems">
  <p-progressSpinner></p-progressSpinner>
</div>

<div class="flex justify-content-center align-items-center mt-2">
  <button pButton pRipple class="p-button-primary flex-grow-1 justify-content-center p-4" type="button"
    (click)="addItem()">
    <i class="pi pi-plus mr-2 text-lg"></i>
    <span class="text-lg">Add item</span>
  </button>
</div>